Wallet Connected: 0x362e9577731CF88A2129CB051756Be361575983F
SomniaContext.tsx:75 SDK Initialized (All-in Config)
SomniaContext.tsx:78 Computing Schema ID...
SomniaContext.tsx:81 Schema ID Computed: 0xf6193b858f836055eee0830dd211efa39dbeb0447af62b965afc7b8bc665c04d
SomniaContext.tsx:84 Checking if schema is registered...
Guestbook.tsx:27 Subscription code is disabled. Skipping subscribe call.
Guestbook.tsx:28 Using Schema ID: 0xf6193b858f836055eee0830dd211efa39dbeb0447af62b965afc7b8bc665c04d
SomniaContext.tsx:86 Schema registration status: true
SomniaContext.tsx:108 Schema is already registered. Ready to publish data!
Guestbook.tsx:45 Sending message...
Guestbook.tsx:46 Account: 0x362e9577731CF88A2129CB051756Be361575983F
Guestbook.tsx:47 Schema ID: 0xf6193b858f836055eee0830dd211efa39dbeb0447af62b965afc7b8bc665c04d
Guestbook.tsx:57 Schema registration verified. Proceeding with publish...
Guestbook.tsx:86 Preparing to send transaction...
Guestbook.tsx:87 Data ID: 0xbe44157e9cc93c122258cf9d8af73a9f9ecba135ffe940331eebe71350a18d8c
Guestbook.tsx:88 Encoded data length: 642
Guestbook.tsx:91 Calling setAndEmitEvents...
inpage.js:1 MetaMask - RPC Error: Internal JSON-RPC error. {code: -32603, message: 'Internal JSON-RPC error.', stack: '{\n  "code": -32603,\n  "message": "Internal JSON-RP…hfbeogaeaoehlefnkodbefgpgknn/common-2.js:3:145608'}
(anonymous) @ inpage.js:1
(anonymous) @ inpage.js:1
p @ inpage.js:1
f @ inpage.js:1
await in f
l @ inpage.js:1
handle @ inpage.js:1
_rpcRequest @ inpage.js:1
(anonymous) @ inpage.js:1
request @ inpage.js:1
withRetry.delay.count.count @ chunk-ZLQB56MR.js?v=9029f5b3:3578
attemptRetry @ chunk-ZLQB56MR.js?v=9029f5b3:2160
(anonymous) @ chunk-ZLQB56MR.js?v=9029f5b3:2168
withRetry @ chunk-ZLQB56MR.js?v=9029f5b3:2151
withDedupe.enabled @ chunk-ZLQB56MR.js?v=9029f5b3:3576
withDedupe @ chunk-ZLQB56MR.js?v=9029f5b3:3551
(anonymous) @ chunk-ZLQB56MR.js?v=9029f5b3:3576
sendTransaction @ chunk-ZLQB56MR.js?v=9029f5b3:1841
await in sendTransaction
(anonymous) @ chunk-ZLQB56MR.js?v=9029f5b3:232
writeContract @ chunk-ZLQB56MR.js?v=9029f5b3:1934
writeContract @ chunk-ZLQB56MR.js?v=9029f5b3:9147
writeContract @ @somnia-chain_streams.js?v=9029f5b3:71
setAndEmitEvents @ @somnia-chain_streams.js?v=9029f5b3:1714
await in setAndEmitEvents
handleSign @ Guestbook.tsx:92
await in handleSign
executeDispatch @ react-dom_client.js?v=9029f5b3:25655
runWithFiberInDEV @ react-dom_client.js?v=9029f5b3:13030
processDispatchQueue @ react-dom_client.js?v=9029f5b3:25691
(anonymous) @ react-dom_client.js?v=9029f5b3:26104
batchedUpdates$1 @ react-dom_client.js?v=9029f5b3:14659
dispatchEventForPluginEventSystem @ react-dom_client.js?v=9029f5b3:25796
dispatchEvent @ react-dom_client.js?v=9029f5b3:28817
dispatchDiscreteEvent @ react-dom_client.js?v=9029f5b3:28798
<button>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=9029f5b3:269
Guestbook @ Guestbook.tsx:174
react_stack_bottom_frame @ react-dom_client.js?v=9029f5b3:30542
renderWithHooksAgain @ react-dom_client.js?v=9029f5b3:17762
renderWithHooks @ react-dom_client.js?v=9029f5b3:17698
updateFunctionComponent @ react-dom_client.js?v=9029f5b3:19508
beginWork @ react-dom_client.js?v=9029f5b3:20558
runWithFiberInDEV @ react-dom_client.js?v=9029f5b3:13030
performUnitOfWork @ react-dom_client.js?v=9029f5b3:24594
workLoopSync @ react-dom_client.js?v=9029f5b3:24457
renderRootSync @ react-dom_client.js?v=9029f5b3:24441
performWorkOnRoot @ react-dom_client.js?v=9029f5b3:23799
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=9029f5b3:25538
performWorkUntilDeadline @ react-dom_client.js?v=9029f5b3:321
<Guestbook>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=9029f5b3:269
App @ App.tsx:18
react_stack_bottom_frame @ react-dom_client.js?v=9029f5b3:30542
renderWithHooksAgain @ react-dom_client.js?v=9029f5b3:17762
renderWithHooks @ react-dom_client.js?v=9029f5b3:17698
updateFunctionComponent @ react-dom_client.js?v=9029f5b3:19508
beginWork @ react-dom_client.js?v=9029f5b3:20558
runWithFiberInDEV @ react-dom_client.js?v=9029f5b3:13030
performUnitOfWork @ react-dom_client.js?v=9029f5b3:24594
workLoopSync @ react-dom_client.js?v=9029f5b3:24457
renderRootSync @ react-dom_client.js?v=9029f5b3:24441
performWorkOnRoot @ react-dom_client.js?v=9029f5b3:23799
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=9029f5b3:25538
performWorkUntilDeadline @ react-dom_client.js?v=9029f5b3:321
<App>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=9029f5b3:269
(anonymous) @ main.tsx:12Understand this warning
installHook.js:1 Failed to send message: ContractFunctionExecutionError: The contract function "publishDataAndEmitEvents" reverted with the following reason:
Internal JSON-RPC error.

Contract Call:
  address:   0x6AB397FF662e42312c003175DCD76EfF69D048Fc
  function:  publishDataAndEmitEvents((bytes32 id, bytes32 schemaId, bytes data)[], (string id, bytes32[] argumentTopics, bytes data)[])
  args:                              ([{"id":"0xbe44157e9cc93c122258cf9d8af73a9f9ecba135ffe940331eebe71350a18d8c","schemaId":"0xf6193b858f836055eee0830dd211efa39dbeb0447af62b965afc7b8bc665c04d","data":"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000046661666100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000766616661616661000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000018323032352d31312d31325432303a32323a32312e3231365a0000000000000000"}], [{"id":"GLOBAL_GUESTBOOK_UPDATE_V1","argumentTopics":[],"data":"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000046661666100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000766616661616661000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000018323032352d31312d31325432303a32323a32312e3231365a0000000000000000"}])
  sender:    0x362e9577731CF88A2129CB051756Be361575983F

Docs: https://viem.sh/docs/contract/writeContract
Version: viem@2.37.13
    at getContractError (chunk-ZLQB56MR.js?v=9029f5b3:367:10)
    at writeContract (chunk-ZLQB56MR.js?v=9029f5b3:1941:11)
    at async handleSign (Guestbook.tsx:92:20)Caused by: ContractFunctionRevertedError: The contract function "publishDataAndEmitEvents" reverted with the following reason:
Internal JSON-RPC error.

Version: viem@2.37.13
    at chunk-ZLQB56MR.js?v=9029f5b3:358:14
    at getContractError (chunk-ZLQB56MR.js?v=9029f5b3:366:5)
    at writeContract (chunk-ZLQB56MR.js?v=9029f5b3:1941:11)
    at async handleSign (Guestbook.tsx:92:20)
overrideMethod @ installHook.js:1
handleSign @ Guestbook.tsx:106
await in handleSign
executeDispatch @ react-dom_client.js?v=9029f5b3:25655
runWithFiberInDEV @ react-dom_client.js?v=9029f5b3:13030
processDispatchQueue @ react-dom_client.js?v=9029f5b3:25691
(anonymous) @ react-dom_client.js?v=9029f5b3:26104
batchedUpdates$1 @ react-dom_client.js?v=9029f5b3:14659
dispatchEventForPluginEventSystem @ react-dom_client.js?v=9029f5b3:25796
dispatchEvent @ react-dom_client.js?v=9029f5b3:28817
dispatchDiscreteEvent @ react-dom_client.js?v=9029f5b3:28798
<button>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=9029f5b3:269
Guestbook @ Guestbook.tsx:174
react_stack_bottom_frame @ react-dom_client.js?v=9029f5b3:30542
renderWithHooksAgain @ react-dom_client.js?v=9029f5b3:17762
renderWithHooks @ react-dom_client.js?v=9029f5b3:17698
updateFunctionComponent @ react-dom_client.js?v=9029f5b3:19508
beginWork @ react-dom_client.js?v=9029f5b3:20558
runWithFiberInDEV @ react-dom_client.js?v=9029f5b3:13030
performUnitOfWork @ react-dom_client.js?v=9029f5b3:24594
workLoopSync @ react-dom_client.js?v=9029f5b3:24457
renderRootSync @ react-dom_client.js?v=9029f5b3:24441
performWorkOnRoot @ react-dom_client.js?v=9029f5b3:23799
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=9029f5b3:25538
performWorkUntilDeadline @ react-dom_client.js?v=9029f5b3:321
<Guestbook>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=9029f5b3:269
App @ App.tsx:18
react_stack_bottom_frame @ react-dom_client.js?v=9029f5b3:30542
renderWithHooksAgain @ react-dom_client.js?v=9029f5b3:17762
renderWithHooks @ react-dom_client.js?v=9029f5b3:17698
updateFunctionComponent @ react-dom_client.js?v=9029f5b3:19508
beginWork @ react-dom_client.js?v=9029f5b3:20558
runWithFiberInDEV @ react-dom_client.js?v=9029f5b3:13030
performUnitOfWork @ react-dom_client.js?v=9029f5b3:24594
workLoopSync @ react-dom_client.js?v=9029f5b3:24457
renderRootSync @ react-dom_client.js?v=9029f5b3:24441
performWorkOnRoot @ react-dom_client.js?v=9029f5b3:23799
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=9029f5b3:25538
performWorkUntilDeadline @ react-dom_client.js?v=9029f5b3:321
<App>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=9029f5b3:269
(anonymous) @ main.tsx:12Understand this error
installHook.js:1 Error details: {message: 'The contract function "publishDataAndEmitEvents" r…docs/contract/writeContract\nVersion: viem@2.37.13', code: undefined, name: 'ContractFunctionExecutionError', cause: ContractFunctionRevertedError: The contract function "publishDataAndEmitEvents" reverted with the f…, shortMessage: 'The contract function "publishDataAndEmitEvents" r…th the following reason:\nInternal JSON-RPC error.', …}